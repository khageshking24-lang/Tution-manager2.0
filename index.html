<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Nexa ERP V65 | Final</title><script src="https://cdn.tailwindcss.com"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script><style>@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');body{font-family:'Plus Jakarta Sans',sans-serif;background:#0b0e14;color:#fff;overflow-x:hidden}.nexa-glass{background:rgba(17,24,39,.8);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.05);border-radius:20px}.tab-content{display:none}.active-tab{display:block;animation:slideUp .3s ease}@keyframes slideUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}input{background:#1a1f29!important;border:1px solid #334155!important;color:#fff!important;border-radius:12px!important;padding:12px!important;outline:0;transition:.3s}input:focus{border-color:#6366f1!important;box-shadow:0 0 10px rgba(99,102,241,.2)}.revenue-card{background:linear-gradient(135deg,#6366f1 0%,#a855f7 100%)}.health-badge{background:rgba(34,197,94,.1);color:#4ade80;border:1px solid rgba(34,197,94,.2)}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:#334155;border-radius:10px}</style></head><body><div id="securityWall" class="fixed inset-0 z-[10000] bg-[#0b0e14] flex items-center justify-center p-6 text-center"><div class="nexa-glass p-8 w-full max-w-sm border-t-4 border-indigo-600"><h2 class="text-3xl font-black text-indigo-500 italic mb-2">NEXA ERP</h2><div class="mb-6"><p id="daysLeft" class="text-5xl font-black">7</p><p class="text-[10px] text-slate-500 uppercase font-bold mt-2">Trial Days Left</p></div><input type="password" id="licenseKey" placeholder="Permanent Key" class="w-full text-center font-bold mb-4"><button onclick="_0x5a1b()" class="w-full bg-indigo-600 py-4 rounded-xl font-black uppercase text-xs">Activate</button><button id="trialBtn" onclick="_0x2c3d()" class="w-full mt-4 text-slate-500 font-bold text-[10px] uppercase underline">Skip to Trial</button></div></div><div id="appBody" style="display:none" class="p-4 max-w-lg mx-auto pb-36"><header class="flex justify-between items-center py-6"><div><h1 class="text-2xl font-black text-indigo-500 italic">NEXA ERP</h1><p class="text-[9px] text-slate-500 font-extrabold uppercase mt-1">Powered by Khagesh</p></div><div class="flex gap-2"><button onclick="exportToCSV()" class="w-10 h-10 nexa-glass text-amber-400 flex items-center justify-center"><i class="fas fa-file-export"></i></button><label class="w-10 h-10 nexa-glass text-blue-400 flex items-center justify-center cursor-pointer"><i class="fas fa-file-import"></i><input type="file" onchange="importCSV(event)" class="hidden" accept=".csv"></label><button onclick="downloadBackup()" class="w-10 h-10 nexa-glass text-emerald-400 flex items-center justify-center"><i class="fas fa-database"></i></button></div></header><div id="tab-dash" class="tab-content active-tab space-y-4"><div class="grid grid-cols-2 gap-3 text-center"><div class="nexa-glass p-5"><h2 id="dashCount" class="text-3xl font-black">0</h2><p class="text-[8px] text-slate-500 font-black uppercase">Students</p></div><div class="nexa-glass p-5 revenue-card text-white"><h2 id="dashRev" class="text-2xl font-black">₹0</h2><p class="text-[8px] text-white/80 font-black uppercase">Revenue</p></div></div><div class="nexa-glass p-4 flex justify-between items-center"><div class="flex items-center gap-2"><i class="fas fa-heartbeat text-green-500"></i><div><p class="text-[10px] font-bold uppercase text-slate-400">System Health</p><p id="storageInfo" class="text-[11px] font-black text-green-400 italic">Calculating...</p></div></div><span class="health-badge text-[9px] px-2 py-1 rounded-lg font-bold uppercase">Safe</span></div><div class="relative"><i class="fas fa-search absolute left-4 top-4 text-slate-500 text-xs"></i><input type="text" id="dashSearch" onkeyup="renderAll()" placeholder="Search Name, Class, or Batch..." class="w-full pl-10 text-xs"></div><div id="quickList" class="space-y-2 max-h-96 overflow-y-auto"></div></div><div id="tab-students" class="tab-content space-y-4"><div class="nexa-glass p-6 space-y-3"><h3 class="text-xs font-black text-indigo-400 uppercase">New Enrollment</h3><input type="text" id="sName" placeholder="Full Name" class="w-full"><div class="grid grid-cols-2 gap-2"><input type="text" id="sBatch" placeholder="Batch"><input type="text" id="sClass" placeholder="Subject/Class"></div><div class="grid grid-cols-2 gap-2"><input type="number" id="sFee" placeholder="Fee Amount"><input type="number" id="sPhone" placeholder="WhatsApp"></div><input type="date" id="sJoinDate" class="w-full"><button onclick="addStudent()" class="w-full bg-indigo-600 py-4 rounded-xl font-black uppercase text-xs">Save Student</button></div></div><div id="tab-attendance" class="tab-content space-y-4"><div class="nexa-glass p-5"><input type="date" id="attDate" onchange="renderAttendanceList()" class="w-full mb-3"><input type="text" id="attFilter" onkeyup="renderAttendanceList()" placeholder="Filter students..." class="w-full mb-4 text-xs"><div id="attList" class="space-y-2 max-h-64 overflow-y-auto mb-4"></div><button onclick="saveAttendance()" class="w-full bg-indigo-600 py-4 rounded-xl font-black uppercase text-xs">Save haazri</button></div><div class="nexa-glass p-5 border-t-2 border-indigo-500/20 text-center"><p class="text-[10px] font-bold text-slate-500 uppercase mb-3">Export Attendance Report</p><div class="grid grid-cols-2 gap-2 mb-3"><input type="date" id="repStart"><input type="date" id="repEnd"></div><button onclick="downloadAttendanceReport()" class="w-full bg-slate-800 text-indigo-400 py-3 rounded-xl font-black uppercase text-[10px]">Download PDF</button></div></div><div id="tab-fees" class="tab-content space-y-4"><div class="nexa-glass p-5"><div class="flex justify-between items-center mb-4"><h3 class="text-xs font-black text-indigo-400 uppercase">Fee Panel</h3><button onclick="sendBulkReminders()" class="bg-green-600 px-4 py-2 rounded-lg text-[9px] font-black uppercase">Bulk WhatsApp</button></div><div class="relative mb-4"><i class="fas fa-filter absolute left-4 top-4 text-slate-500 text-xs"></i><input type="text" id="feeSearch" onkeyup="renderAll()" placeholder="Search..." class="w-full pl-10 text-xs"></div><div id="feeList" class="space-y-2 max-h-[400px] overflow-y-auto"></div></div></div><nav class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] nexa-glass p-2 flex justify-around shadow-2xl z-50"><button onclick="switchTab('dash')" class="p-4 text-slate-500 focus:text-indigo-400"><i class="fas fa-home"></i></button><button onclick="switchTab('students')" class="p-4 text-slate-500 focus:text-indigo-400"><i class="fas fa-user-plus"></i></button><button onclick="switchTab('attendance')" class="p-4 text-slate-500 focus:text-indigo-400"><i class="fas fa-check-double"></i></button><button onclick="switchTab('fees')" class="p-4 text-slate-500 focus:text-indigo-400"><i class="fas fa-file-invoice-dollar"></i></button></nav></div><script>const _0x1a2b="UGVybWFuZW50a2V5NjM3OTMxMTk=";let db,students=[],attendanceHistory={},currentAttState={};const initSecurity=()=>{const t=localStorage.getItem("nexa_v63_trial")||Date.now();localStorage.getItem("nexa_v63_trial")||localStorage.setItem("nexa_v63_trial",t);const e=7-Math.floor((Date.now()-t)/864e5);"true"===localStorage.getItem("nexa_v63_active")?_0x4e5f():e<=0?(document.getElementById("daysLeft").innerText="LOCK",document.getElementById("trialBtn").style.display="none"):document.getElementById("daysLeft").innerText=e},_0x5a1b=()=>{document.getElementById("licenseKey").value===atob(_0x1a2b)?(localStorage.setItem("nexa_v63_active","true"),_0x4e5f()):alert("Access Denied")},_0x4e5f=()=>{document.getElementById("securityWall").style.display="none",document.getElementById("appBody").style.display="block",document.getElementById("attDate").valueAsDate=new Date,updateStorageInfo()},_0x2c3d=()=>{const t=localStorage.getItem("nexa_v63_trial");Math.floor((Date.now()-t)/864e5)<7&&_0x4e5f()};const request=indexedDB.open("NexaERPV63",1);request.onupgradeneeded=t=>{(db=t.target.result).createObjectStore("students",{keyPath:"id"}),db.createObjectStore("attendance",{keyPath:"date"})},request.onsuccess=t=>{db=t.target.result,loadData(),initSecurity()};function loadData(){const t=db.transaction(["students","attendance"],"readonly");t.objectStore("students").getAll().onsuccess=t=>{students=t.target.result,renderAll()},t.objectStore("attendance").getAll().onsuccess=t=>{t.target.result.forEach(t=>attendanceHistory[t.date]=t.data)}}function updateStorageInfo(){const t=JSON.stringify(students).length+JSON.stringify(attendanceHistory).length;document.getElementById("storageInfo").innerText=(t/1024).toFixed(3)+" KB USED"}function renderAll(){updateStorageInfo();const t=document.getElementById("dashSearch").value.toLowerCase(),e=document.getElementById("feeSearch").value.toLowerCase(),n=students.filter(e=>e.name.toLowerCase().includes(t)||e.cls.toLowerCase().includes(t)||e.batch.toLowerCase().includes(t));document.getElementById("dashCount").innerText=students.length;let a=0;students.forEach(t=>a+=parseInt(t.fee||0)),document.getElementById("dashRev").innerText=`₹${a}`,document.getElementById("quickList").innerHTML=n.map(t=>`<div class="flex justify-between items-center p-4 nexa-glass mb-1 border border-white/5"><div><p class="font-bold text-sm">${t.name}</p><div class="flex gap-2 items-center"><span class="text-[8px] date-badge px-2 py-0.5 rounded-full uppercase">Joined: ${t.joinDate||"N/A"}</span><span class="text-[8px] text-slate-500 uppercase">${t.cls} | ${t.batch}</span></div></div><button onclick="deleteStudent(${t.id})" class="text-red-500/30 hover:text-red-500 p-2"><i class="fas fa-trash-alt"></i></button></div>`).join("");const o=students.filter(t=>t.name.toLowerCase().includes(e)||t.cls.toLowerCase().includes(e)||t.batch.toLowerCase().includes(e));document.getElementById("feeList").innerHTML=o.map(t=>`<div class="nexa-glass p-4 flex justify-between mb-2 border border-white/5"><div class="flex items-center gap-3"><input type="checkbox" class="fee-checkbox w-5 h-5 accent-indigo-500" data-id="${t.id}"><p class="text-xs font-bold">${t.name} <span class="text-[9px] text-slate-500 font-normal">(${t.cls})</span></p></div><div class="flex gap-4"><button onclick='downloadReceipt(${JSON.stringify(t)})' class="text-indigo-400"><i class="fas fa-receipt text-lg"></i></button><button onclick="window.open('https://wa.me/91${t.phone}?text=Fee Reminder: Rs.${t.fee}')" class="text-green-500"><i class="fab fa-whatsapp text-lg"></i></button></div></div>`).join(""),renderAttendanceList()}function downloadAttendanceReport(){const t=document.getElementById("repStart").value,e=document.getElementById("repEnd").value;if(!t||!e)return alert("Select Date Range!");const{jsPDF:n}=window.jspdf,a=new n,o=[];Object.keys(attendanceHistory).sort().forEach(n=>{if(n>=t&&n<=e)attendanceHistory[n].forEach(t=>o.push([n,t.name,t.status]))});a.text("Attendance Report | Nexa ERP",14,15);a.autoTable({head:[["Date","Student Name","Status"]],body:o,startY:20});a.save(`Attendance_${t}_to_${e}.pdf`)}function downloadReceipt(t){const{jsPDF:e}=window.jspdf,n=new e("p","mm",[80,150]);n.setFillColor(11,14,20),n.rect(0,0,80,25,"F"),n.setTextColor(255),n.setFontSize(12),n.text("FEE RECEIPT",40,10,{align:"center"}),n.setFontSize(7),n.text("Nexa Coaching Institute",40,16,{align:"center"}),n.setTextColor(40),n.text(`Student: ${t.name}`,5,42),n.text(`AMOUNT PAID: Rs.${t.fee}`,40,75,{align:"center"}),n.save(`Receipt_${t.name}.pdf`)}function addStudent(){const t={id:Date.now(),name:document.getElementById("sName").value,batch:document.getElementById("sBatch").value,cls:document.getElementById("sClass").value,fee:document.getElementById("sFee").value,phone:document.getElementById("sPhone").value,joinDate:document.getElementById("sJoinDate").value};if(!t.name)return;const e=db.transaction("students","readwrite");e.objectStore("students").add(t),e.oncomplete=()=>(students.push(t),renderAll(),alert("Student Added!"))}function deleteStudent(t){confirm("Permanently delete this student?")&&(db.transaction("students","readwrite").objectStore("students").delete(t).oncomplete=()=>(students=students.filter(e=>e.id!==t),renderAll()))}function renderAttendanceList(){const t=document.getElementById("attFilter").value.toLowerCase(),e=document.getElementById("attDate").value,n=attendanceHistory[e]||[],a=students.filter(e=>e.name.toLowerCase().includes(t)||e.cls.toLowerCase().includes(t));document.getElementById("attList").innerHTML=a.map(t=>{if(!(t.id in currentAttState)){const a=n.find(e=>e.id===t.id);currentAttState[t.id]=!a||"P"===a.status}return`<div class="flex justify-between p-4 bg-white/5 rounded-2xl mb-1 border border-white/5"><span><p class="text-sm font-bold text-indigo-400">${t.name}</p><p class="text-[9px] text-slate-500 uppercase">${t.cls}</p></span><input type="checkbox" onchange="currentAttState[${t.id}] = this.checked" ${currentAttState[t.id]?"checked":""} class="w-7 h-7 accent-indigo-500"></div>`}).join("")}function saveAttendance(){const t=document.getElementById("attDate").value,e=students.map(t=>({id:t.id,name:t.name,status:currentAttState[t.id]?"P":"A"})),n=db.transaction("attendance","readwrite");n.objectStore("attendance").put({date:t,data:e}),n.oncomplete=()=>(attendanceHistory[t]=e,alert("Attendance Recorded!"))}function exportToCSV(){const t=["ID,Name,Phone,Fee,Batch,Class,JoinDate"].concat(students.map(t=>`${t.id},${t.name},${t.phone},${t.fee},${t.batch},${t.cls},${t.joinDate}`)).join("\n"),e=document.createElement("a");e.href=URL.createObjectURL(new Blob([t],{type:"text/csv"})),e.download="Students_Export.csv",e.click()}function downloadBackup(){const t=document.createElement("a");t.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({students,attendanceHistory})),t.download="NexaBackup_V65.json",t.click()}function importCSV(t){const e=new FileReader;e.onload=t=>{const e=t.target.result.split("\n").slice(1),n=db.transaction("students","readwrite");e.forEach(t=>{const[e,a,o,s,l,r,i]=t.split(",");if(a){const t={id:e||Date.now()+Math.random(),name:a,phone:o,fee:s,batch:l,cls:r,joinDate:i};n.objectStore("students").put(t),students.push(t)}}),n.oncomplete=()=>(renderAll(),alert("Data Imported!"))},e.readAsText(t.target.files[0])}function switchTab(t){document.querySelectorAll(".tab-content").forEach(t=>t.classList.remove("active-tab")),document.getElementById("tab-"+t).classList.add("active-tab"),currentAttState={},renderAll()}function sendBulkReminders(){Array.from(document.querySelectorAll(".fee-checkbox:checked")).map(t=>t.dataset.id).forEach((t,e)=>{const n=students.find(e=>e.id==t);setTimeout(()=>window.open(`https://wa.me/91${n.phone}?text=Hello ${n.name}, your fee Rs.${n.fee} is pending.`),2e3*e)})}</script></body></html>
    
